(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cae6a1e8"],{"165e":function(t,e,a){"use strict";var n={items:[],itemsVacation:[],itemsMission:[],itemsExcuse:[]},i={SET_ITEMS:function(t,e){t.items=e},SET_ITEMSV:function(t,e){t.itemsVacation=e},SET_ITEMSM:function(t,e){t.itemsMission=e},SET_ITEMSE:function(t,e){t.itemsExcuse=e}},s=(a("7f7f"),a("bb36")),o={fetchItemsMainReport:function(t,e){var a=t.commit;return new Promise((function(t,n){s["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/main_report/"),{params:{start_date:e.start_date,end_date:e.end_date,category:e.category.name,company:e.company.name,department:e.department,job_title:e.job_title,employee_name:e.employee_name,employee_code:e.employee_code,reporting_to:e.reporting_to,city:e.city,area:e.area,area_name:e.area_name,Absenteeism_Days:e.Absenteeism_Days}}).then((function(e){a("SET_ITEMS",e.data.data),t(e)})).catch((function(t){n(t)}))}))},fetchItemsVacationReport:function(t,e){var a=t.commit;return new Promise((function(t,n){s["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/vacation_report/"),{params:{from:e.from,to:e.to,category:e.category.name,company:e.company.name,department:e.department,job_title:e.job_title,employee_name:e.employee_name,code:e.employee_code,reporting_to:e.reporting_to,city:e.city,area:e.area,status:e.status,annual_pool:e.annual_pool}}).then((function(e){a("SET_ITEMSV",e.data.data),t(e)})).catch((function(t){n(t)}))}))},fetchItemsExcuseReport:function(t,e){var a=t.commit;return new Promise((function(t,n){s["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/excuse_report/?"),{params:{from:e.from,to:e.to,category:e.category.name,company:e.company.name,department:e.department,job_title:e.job_title,employee_name:e.employee_name,code:e.employee_code,reporting_to:e.reporting_to,city:e.city,area:e.area,status:e.status}}).then((function(e){a("SET_ITEMSE",e.data.data),t(e)})).catch((function(t){n(t)}))}))},fetchItemsMissionReport:function(t,e){var a=t.commit;return new Promise((function(t,n){s["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/mission_report/?"),{params:{from:e.from,to:e.to,category:e.category.name,company:e.company.name,department:e.department,job_title:e.job_title,employee_name:e.employee_name,code:e.employee_code,reporting_to:e.reporting_to,city:e.city,area:e.area,status:e.status}}).then((function(e){a("SET_ITEMSM",e.data.result),t(e)})).catch((function(t){n(t)}))}))},fetchItemsAttendance:function(t,e){var a=t.commit;return e.start_date_ms=new Date(e.start_date_ms).getTime(),e.end_date_ms=new Date(e.end_date_ms).getTime(),new Promise((function(t,n){s["a"].get("".concat("https://hrattendence.gs-group.nl","/users/generate_hr_time_attendance"),{params:{start_date_ms:e.start_date_ms,end_date_ms:e.end_date_ms}}).then((function(e){a("SET_ITEMS",e.data.data),t(e)})).catch((function(t){n(t)}))}))},fetchItemsTimeAttendance:function(t,e){var a=t.commit;return e.start_date_ms=new Date(e.start_date_ms).getTime(),e.end_date_ms=new Date(e.end_date_ms).getTime(),new Promise((function(t,n){s["a"].get("".concat("https://hrattendence.gs-group.nl","/users/generate_erp_hr_time_attendance"),{params:{start_date_ms:e.start_date_ms,end_date_ms:e.end_date_ms}}).then((function(e){a("SET_ITEMS",e.data.data),t(e)})).catch((function(t){n(t)}))}))}},r={};e["a"]={isRegistered:!1,namespaced:!0,state:n,mutations:i,actions:o,getters:r}},"481e":function(t,e,a){},"4f15":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"data-list"}},[a("vx-card",{ref:"filterCard",staticClass:"user-list-filters mb-8",attrs:{title:"Filters","collapse-action":"","refresh-content-action":""},on:{refresh:t.resetColFilters}},[a("form",[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75 mr-3"},[a("span",{staticClass:"text-primary"},[t._v("*")]),t._v("From ")]),a("flat-pickr",{attrs:{config:t.configFromdateTimePicker,placeholder:"From Date"},on:{"on-change":t.onFromChange},model:{value:t.items.from,callback:function(e){t.$set(t.items,"from",e)},expression:"items.from"}})],1),a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75 mr-3"},[a("span",{staticClass:"text-primary"},[t._v("*")]),t._v("To ")]),a("flat-pickr",{attrs:{config:t.configTodateTimePicker,placeholder:"To Date"},on:{"on-change":t.onToChange},model:{value:t.items.to,callback:function(e){t.$set(t.items,"to",e)},expression:"items.to"}})],1),a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[a("span",{staticClass:"text-primary"},[t._v("*")]),t._v("Company ")]),a("v-select",{staticClass:"mb-4",attrs:{label:"name",reduce:function(t){return t},options:t.companies,clearable:!1,dir:t.$vs.rtl?"rtl":"ltr",placeholder:"Company"},model:{value:t.company,callback:function(e){t.company=e},expression:"company"}})],1),a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[a("span",{staticClass:"text-primary"},[t._v("*")]),t._v("Category ")]),a("v-select",{staticClass:"mb-4 md:mb-0",attrs:{label:"name",reduce:function(t){return t},options:t.categorys,clearable:!1,dir:t.$vs.rtl?"rtl":"ltr",placeholder:"Category"},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1),a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[a("span",{staticClass:"text-primary"},[t._v("*")]),t._v("Departments")]),a("v-select",{staticClass:"mb-4",attrs:{options:t.allDepartments,clearable:!1,dir:t.$vs.rtl?"rtl":"ltr",placeholder:"Departments"},model:{value:t.department,callback:function(e){t.department=e},expression:"department"}})],1),t.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[t._v(" Status ")]),a("v-select",{staticClass:"mb-4",attrs:{label:"name",reduce:function(t){return t.key},options:t.allStatus,clearable:!1,dir:t.$vs.rtl?"rtl":"ltr",placeholder:"Status"},model:{value:t.items.status,callback:function(e){t.$set(t.items,"status",e)},expression:"items.status"}})],1):t._e(),t.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[t._v("Job Title")]),a("v-select",{staticClass:"mb-4",attrs:{options:t.job_titles,clearable:!1,dir:t.$vs.rtl?"rtl":"ltr",placeholder:"Job Title"},model:{value:t.items.job_title,callback:function(e){t.$set(t.items,"job_title",e)},expression:"items.job_title"}})],1):t._e(),t.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[t._v("Employee Name")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-user","icon-no-border":""},model:{value:t.items.employee_name,callback:function(e){t.$set(t.items,"employee_name",e)},expression:"items.employee_name"}})],1):t._e(),t.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[t._v("Employee Code")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-hash","icon-no-border":""},model:{value:t.items.employee_code,callback:function(e){t.$set(t.items,"employee_code",e)},expression:"items.employee_code"}})],1):t._e(),t.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[t._v("Reporting To")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-user","icon-no-border":""},model:{value:t.items.reporting_to,callback:function(e){t.$set(t.items,"reporting_to",e)},expression:"items.reporting_to"}})],1):t._e(),t.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[t._v("City")]),a("v-select",{staticClass:"mb-4",attrs:{options:t.cities,clearable:!1,dir:t.$vs.rtl?"rtl":"ltr",placeholder:"City"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1):t._e(),t.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[t._v("Area")]),a("v-select",{staticClass:"mb-4",attrs:{options:t.areas,clearable:!1,dir:t.$vs.rtl?"rtl":"ltr",placeholder:"Area"},model:{value:t.items.area,callback:function(e){t.$set(t.items,"area",e)},expression:"items.area"}})],1):t._e(),t.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[t._v("Annual Pool")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-hash","icon-no-border":""},model:{value:t.items.annual_pool,callback:function(e){t.$set(t.items,"annual_pool",e)},expression:"items.annual_pool"}})],1):t._e(),a("div",{staticClass:"vx-col md:w-1/2 sm:w-1/2 w-full mt-6"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 sm:w-1/1 w-full"},[a("vs-button",{staticClass:"w-full mb-2",attrs:{type:"filled"},on:{click:function(e){return e.preventDefault(),t.addNewFilter(e)}}},[t._v("Filters")])],1),a("div",{staticClass:"vx-col md:w-1/2 sm:w-1/1 w-full"},[a("vs-button",{staticClass:"w-full mb-2",attrs:{color:"dark",type:"filled"},on:{click:function(e){t.show=!t.show}}},[t._v(" Advanced Filters")])],1)])])])])]),a("div",{staticClass:"vx-card p-6 vs-con-loading__container",attrs:{id:"div-with-loading"}},[a("div",{staticClass:"flex flex-wrap items-center"},[a("div",{staticClass:"flex-grow"},[a("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[t._v(" "+t._s(t.currentPage*t.paginationPageSize-(t.paginationPageSize-1))+" - "+t._s(t.itemsData.length-t.currentPage*t.paginationPageSize>0?t.currentPage*t.paginationPageSize:t.itemsData.length)+" From "+t._s(t.itemsData.length)+" ")]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(e){return t.gridApi.paginationSetPageSize(20)}}},[a("span",[t._v("20")])]),a("vs-dropdown-item",{on:{click:function(e){return t.gridApi.paginationSetPageSize(30)}}},[a("span",[t._v("30")])]),a("vs-dropdown-item",{on:{click:function(e){return t.gridApi.paginationSetPageSize(40)}}},[a("span",[t._v("40")])]),a("vs-dropdown-item",{on:{click:function(e){return t.gridApi.paginationSetPageSize(50)}}},[a("span",[t._v("50")])])],1)],1)],1),a("vs-input",{staticClass:"sm:mr-4 mr-0 sm:w-auto w-full sm:order-normal order-3 sm:mt-0 mt-4",attrs:{placeholder:"Search..."},on:{input:t.updateSearchQuery},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}}),a("vs-button",{staticClass:"mb-4 md:mb-0",on:{click:function(e){return t.gridApi.exportDataAsCsv()}}},[t._v("Export CSV")])],1),a("ag-grid-vue",{ref:"agGridTable",staticClass:"ag-theme-material w-100 my-4 ag-grid-table",attrs:{components:t.components,gridOptions:t.gridOptions,columnDefs:t.columnDefs,defaultColDef:t.defaultColDef,rowData:t.itemsData,rowSelection:"multiple",animateRows:!0,floatingFilter:!1,pagination:!0,paginationPageSize:t.paginationPageSize,suppressPaginationPanel:!0,enableRtl:t.$vs.rtl}}),a("vs-pagination",{attrs:{total:t.totalPages,max:7},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},i=[],s=(a("c5f6"),a("7f7f"),a("401b")),o=(a("4e06"),a("4a7a")),r=a.n(o),l=a("c38f"),c=a.n(l),m=(a("0952"),a("bb36")),d=a("165e"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex items-center"},[a("vs-avatar",{staticClass:"flex-shrink-0 mr-2",attrs:{"icon-pack":"feather",icon:"icon-info",color:"success"},on:{click:function(e){return t.$router.push(t.url)}}}),a("router-link",{staticClass:"text-inherit hover:text-primary",attrs:{to:t.url},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[t._v(t._s(t.params.value))])],1)},p=[],h={name:"CellRendererLink",computed:{url:function(){return"/ticket-settled/ticket-view/"+this.params.data.id}}},f=h,g=a("2877"),_=Object(g["a"])(f,u,p,!1,null,null,null),v=_.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-chip",{staticClass:"ag-grid-cell-chip",attrs:{color:t.chipColor(t.params.value)}},[a("span",[t._v(t._s(t.textStatus(t.params.value)))])])},w=[],b={name:"CellRendererStatus",computed:{chipColor:function(){return function(t){return 1===t?"success":0===t?"danger":"warring"}},textStatus:function(){return function(t){return 1===t?"نعم":0===t?"لا":"warring"}}}},C=b,x=(a("6823"),Object(g["a"])(C,y,w,!1,null,null,null)),k=x.exports,S={components:{AgGridVue:s["AgGridVue"],vSelect:r.a,flatPickr:c.a,CellRendererLink:v,CellRendererStatus:k},data:function(){return{show:!1,allStatus:[{key:"",name:"All"},{key:"pending",name:"Pending"},{key:"accepted",name:"Accepted"},{key:"refused",name:"Refused"}],categorys:[{name:"Operation"},{name:"Staff"}],companies:[{name:"Aman"},{name:"Cashless"},{name:"Go Plus"},{name:"WeFlyPlus"}],cities:[],areas:[],job_titles:[],allDepartments:[],city:null,company:null,category:null,department:null,items:{from:null,to:null,category:null,company:null,department:null,job_title:null,employee_name:null,employee_code:null,reporting_to:null,city:null,area:null,annual_pool:null,status:null},configFromdateTimePicker:{allowInput:!0,minDate:null,maxDate:new Date},configTodateTimePicker:{minDate:null,maxDate:new Date},searchQuery:"",gridApi:null,gridOptions:{},defaultColDef:{resizable:!0},columnDefs:[{headerName:"Employee Name",field:"employee_name",width:250},{headerName:"Code",field:"code",width:150},{headerName:"job title",field:"job_title",width:175},{headerName:"Category",field:"category",width:150},{headerName:"Reporting To Level 1",field:"Reporting_To_Level_1",width:225},{headerName:"Reporting To Level 2",field:"Reporting_To_Level_2",width:225},{headerName:"Reporting To Level 3",field:"Reporting_To_Level_3",width:225},{headerName:"Reporting To Level 4",field:"Reporting_To_Level_4",width:225},{headerName:"Reporting To Level 5",field:"Reporting_To_Level_5",width:225},{headerName:"City",field:"city",width:200},{headerName:"Area",field:"area",width:200},{headerName:"Department",field:"department",width:200},{headerName:"Company",field:"company",width:150},{headerName:"Annual Pool",field:"annual_pool",width:200},{headerName:"Casual Pool",field:"casual_pool",width:200},{headerName:"Vacation Start Date",field:"vacation_start_date",width:200},{headerName:"Vacation End Date",field:"vacation_end_date",width:200},{headerName:"Remain Annual Pool",field:"remain_annual_pool",width:200},{headerName:"Remain Casual Pool",field:"remain_casual_pool",width:200}],components:{CellRendererLink:v,CellRendererStatus:k}}},watch:{city:function(t){var e=this;this.items.area=null,m["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/main_report/city/areas?city=").concat(t)).then((function(t){e.areas=t.data.data}))},category:function(t){var e=this;this.department=null,this.items.job_title=null,null!==this.company&&m["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/main_report/departments/?company=").concat(this.company.name,"&category=").concat(t.name)).then((function(t){e.allDepartments=t.data.data}))},company:function(t){var e=this;this.department=null,this.items.job_title=null,null!==this.category&&m["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/main_report/departments/?category=").concat(this.category.name,"&company=").concat(t.name)).then((function(t){e.allDepartments=t.data.data}))},department:function(t){var e=this;this.items.job_title=null,null!==this.company&&null!==this.category&&m["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/main_report/department/jobs?category=").concat(this.category.name,"&company=").concat(this.company.name,"&department=").concat(t)).then((function(t){e.job_titles=t.data.data}))}},computed:{itemsData:function(){return this.$store.state.hrReportManagement.itemsVacation},paginationPageSize:function(){return this.gridApi?this.gridApi.paginationGetPageSize():10},totalPages:function(){return this.gridApi?this.gridApi.paginationGetTotalPages():0},currentPage:{get:function(){return this.gridApi?this.gridApi.paginationGetCurrentPage()+1:1},set:function(t){this.gridApi.paginationGoToPage(t-1)}}},methods:{addNewFilter:function(){var t=this;this.$validator.validateAll().then((function(e){t.items.from&&t.items.to&&t.company&&t.category&&t.department?e&&(t.$vs.loading({container:"#div-with-loading",scale:.6}),t.items.company=t.company,t.items.category=t.category,t.items.department=t.department,t.items.city=t.city,t.$store.dispatch("hrReportManagement/fetchItemsVacationReport",Object.assign({},t.items)).then((function(e){t.$vs.loading.close("#div-with-loading > .con-vs-loading"),0===e.data.data.length?t.$vs.notify({title:"Information",text:"No data available",iconPack:"feather",icon:"icon-alert-circle",color:"success"}):404===e.data.status&&t.$vs.notify({title:"Error",text:e.data.message,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})})).catch((function(e){t.$vs.loading.close("#div-with-loading > .con-vs-loading"),t.$vs.notify({title:"Error",text:e,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))):t.$vs.notify({title:"Error",text:"Make sure select the main filters ",iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))},onFromChange:function(t,e){this.$set(this.configTodateTimePicker,"minDate",e)},onToChange:function(t,e){this.$set(this.configFromdateTimePicker,"maxDate",e)},resetColFilters:function(t){t.removeRefreshAnimation(500),this.items.from=this.items.to=this.category=this.company=this.items.job_title=this.items.employee_name=this.items.employee_code=this.items.reporting_to=this.items.city=this.city=this.items.area=this.items.status=this.items.annual_pool=null},updateSearchQuery:function(t){this.gridApi.setQuickFilter(t)},convertBool:function(t){return!0===t?"1":"all"}},mounted:function(){var t=this;if(this.gridApi=this.gridOptions.api,this.$vs.rtl){var e=this.$refs.agGridTable.$el.querySelector(".ag-header-container");e.style.left="-"+String(Number(e.style.transform.slice(11,-3))+9)+"px"}m["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/main_report/cities")).then((function(e){t.cities=e.data.data}))},created:function(){d["a"].isRegistered||(this.$store.registerModule("hrReportManagement",d["a"]),d["a"].isRegistered=!0)}},T=S,P=(a("5c28"),Object(g["a"])(T,n,i,!1,null,null,null));e["default"]=P.exports},"5c28":function(t,e,a){"use strict";var n=a("481e"),i=a.n(n);i.a},6823:function(t,e,a){"use strict";var n=a("83b4"),i=a.n(n);i.a},"83b4":function(t,e,a){}}]);
//# sourceMappingURL=chunk-cae6a1e8.64b7aae6.js.map