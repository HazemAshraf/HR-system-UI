(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-298e5748"],{"165e":function(e,t,a){"use strict";var i={items:[],itemsVacation:[],itemsMission:[],itemsExcuse:[]},n={SET_ITEMS:function(e,t){e.items=t},SET_ITEMSV:function(e,t){e.itemsVacation=t},SET_ITEMSM:function(e,t){e.itemsMission=t},SET_ITEMSE:function(e,t){e.itemsExcuse=t}},s=(a("7f7f"),a("bb36")),o={fetchItemsMainReport:function(e,t){var a=e.commit;return new Promise((function(e,i){s["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/main_report/"),{params:{start_date:t.start_date,end_date:t.end_date,category:t.category.name,company:t.company.name,department:t.department,job_title:t.job_title,employee_name:t.employee_name,employee_code:t.employee_code,reporting_to:t.reporting_to,city:t.city,area:t.area,area_name:t.area_name,Absenteeism_Days:t.Absenteeism_Days}}).then((function(t){a("SET_ITEMS",t.data.data),e(t)})).catch((function(e){i(e)}))}))},fetchItemsVacationReport:function(e,t){var a=e.commit;return new Promise((function(e,i){s["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/vacation_report/"),{params:{from:t.from,to:t.to,category:t.category.name,company:t.company.name,department:t.department,job_title:t.job_title,employee_name:t.employee_name,code:t.employee_code,reporting_to:t.reporting_to,city:t.city,area:t.area,status:t.status,annual_pool:t.annual_pool}}).then((function(t){a("SET_ITEMSV",t.data.data),e(t)})).catch((function(e){i(e)}))}))},fetchItemsExcuseReport:function(e,t){var a=e.commit;return new Promise((function(e,i){s["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/excuse_report/?"),{params:{from:t.from,to:t.to,category:t.category.name,company:t.company.name,department:t.department,job_title:t.job_title,employee_name:t.employee_name,code:t.employee_code,reporting_to:t.reporting_to,city:t.city,area:t.area,status:t.status}}).then((function(t){a("SET_ITEMSE",t.data.data),e(t)})).catch((function(e){i(e)}))}))},fetchItemsMissionReport:function(e,t){var a=e.commit;return new Promise((function(e,i){s["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/mission_report/?"),{params:{from:t.from,to:t.to,category:t.category.name,company:t.company.name,department:t.department,job_title:t.job_title,employee_name:t.employee_name,code:t.employee_code,reporting_to:t.reporting_to,city:t.city,area:t.area,status:t.status}}).then((function(t){a("SET_ITEMSM",t.data.result),e(t)})).catch((function(e){i(e)}))}))},fetchItemsAttendance:function(e,t){var a=e.commit;return t.start_date_ms=new Date(t.start_date_ms).getTime(),t.end_date_ms=new Date(t.end_date_ms).getTime(),new Promise((function(e,i){s["a"].get("".concat("https://hrattendence.gs-group.nl","/users/generate_hr_time_attendance"),{params:{start_date_ms:t.start_date_ms,end_date_ms:t.end_date_ms}}).then((function(t){a("SET_ITEMS",t.data.data),e(t)})).catch((function(e){i(e)}))}))},fetchItemsTimeAttendance:function(e,t){var a=e.commit;return t.start_date_ms=new Date(t.start_date_ms).getTime(),t.end_date_ms=new Date(t.end_date_ms).getTime(),new Promise((function(e,i){s["a"].get("".concat("https://hrattendence.gs-group.nl","/users/generate_erp_hr_time_attendance"),{params:{start_date_ms:t.start_date_ms,end_date_ms:t.end_date_ms}}).then((function(t){a("SET_ITEMS",t.data.data),e(t)})).catch((function(e){i(e)}))}))}},r={};t["a"]={isRegistered:!1,namespaced:!0,state:i,mutations:n,actions:o,getters:r}},"20cf":function(e,t,a){"use strict";var i=a("2dba"),n=a.n(i);n.a},"2ae3":function(e,t,a){},"2dba":function(e,t,a){},"96d7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"data-list"}},[a("vx-card",{ref:"filterCard",staticClass:"user-list-filters mb-8",attrs:{title:"Filters","collapse-action":"","refresh-content-action":""},on:{refresh:e.resetColFilters}},[a("form",[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75 mr-3"},[a("span",{staticClass:"text-primary"},[e._v("*")]),e._v("From ")]),a("flat-pickr",{attrs:{config:e.configFromdateTimePicker,placeholder:"From Date"},on:{"on-change":e.onFromChange},model:{value:e.items.start_date,callback:function(t){e.$set(e.items,"start_date",t)},expression:"items.start_date"}})],1),a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75 mr-3"},[a("span",{staticClass:"text-primary"},[e._v("*")]),e._v("To ")]),a("flat-pickr",{attrs:{config:e.configTodateTimePicker,placeholder:"To Date"},on:{"on-change":e.onToChange},model:{value:e.items.end_date,callback:function(t){e.$set(e.items,"end_date",t)},expression:"items.end_date"}})],1),a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[a("span",{staticClass:"text-primary"},[e._v("*")]),e._v("Category ")]),a("v-select",{staticClass:"mb-4 md:mb-0",attrs:{label:"name",reduce:function(e){return e},options:e.categorys,clearable:!1,dir:e.$vs.rtl?"rtl":"ltr",placeholder:"Category"},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}})],1),a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[a("span",{staticClass:"text-primary"},[e._v("*")]),e._v("Company ")]),a("v-select",{staticClass:"mb-4",attrs:{label:"name",reduce:function(e){return e},options:e.companies,clearable:!1,dir:e.$vs.rtl?"rtl":"ltr",placeholder:"Company"},model:{value:e.company,callback:function(t){e.company=t},expression:"company"}})],1)]),a("div",{staticClass:"vx-row"},[e.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("Departments")]),a("v-select",{staticClass:"mb-4",attrs:{options:e.allDepartments,clearable:!1,dir:e.$vs.rtl?"rtl":"ltr",placeholder:"Departments"},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}})],1):e._e(),e.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("Job Title")]),a("v-select",{staticClass:"mb-4",attrs:{options:e.job_titles,clearable:!1,dir:e.$vs.rtl?"rtl":"ltr",placeholder:"Job Title"},model:{value:e.items.job_title,callback:function(t){e.$set(e.items,"job_title",t)},expression:"items.job_title"}})],1):e._e(),e.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("Employee Name")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-user","icon-no-border":""},model:{value:e.items.employee_name,callback:function(t){e.$set(e.items,"employee_name",t)},expression:"items.employee_name"}})],1):e._e(),e.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("Employee Code")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-hash","icon-no-border":""},model:{value:e.items.employee_code,callback:function(t){e.$set(e.items,"employee_code",t)},expression:"items.employee_code"}})],1):e._e(),e.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("Reporting To")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-user","icon-no-border":""},model:{value:e.items.reporting_to,callback:function(t){e.$set(e.items,"reporting_to",t)},expression:"items.reporting_to"}})],1):e._e(),e.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("City")]),a("v-select",{staticClass:"mb-4",attrs:{options:e.cities,clearable:!1,dir:e.$vs.rtl?"rtl":"ltr",placeholder:"City"},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}})],1):e._e(),e.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("Area")]),a("v-select",{staticClass:"mb-4",attrs:{options:e.areas,clearable:!1,dir:e.$vs.rtl?"rtl":"ltr",placeholder:"Area"},model:{value:e.items.area,callback:function(t){e.$set(e.items,"area",t)},expression:"items.area"}})],1):e._e(),e.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("Authorization Area Name")]),a("v-select",{staticClass:"mb-4",attrs:{options:e.area_names,clearable:!1,dir:e.$vs.rtl?"rtl":"ltr",placeholder:"Authorization Area Name"},model:{value:e.items.area_name,callback:function(t){e.$set(e.items,"area_name",t)},expression:"items.area_name"}})],1):e._e(),e.show?a("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[e._v("Absenteeism Days")]),a("v-select",{staticClass:"mb-4",attrs:{label:"name",reduce:function(e){return e},options:e.absenteeismDays,clearable:!1,dir:e.$vs.rtl?"rtl":"ltr",placeholder:"Absenteeism Days"},model:{value:e.items.Absenteeism_Days,callback:function(t){e.$set(e.items,"Absenteeism_Days",t)},expression:"items.Absenteeism_Days"}})],1):e._e(),a("div",{staticClass:"vx-col md:w-1/2 sm:w-1/2 w-full mt-6"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 sm:w-1/1 w-full"},[a("vs-button",{staticClass:"w-full mb-2",attrs:{type:"filled"},on:{click:function(t){return t.preventDefault(),e.addNewFilter(t)}}},[e._v("Filters")])],1),a("div",{staticClass:"vx-col md:w-1/2 sm:w-1/1 w-full"},[a("vs-button",{staticClass:"w-full mb-2",attrs:{color:"dark",type:"filled"},on:{click:function(t){e.show=!e.show}}},[e._v(" Advanced Filters")])],1)])])])])]),a("div",{staticClass:"vx-card p-6 vs-con-loading__container",attrs:{id:"div-with-loading"}},[a("div",{staticClass:"flex flex-wrap items-center"},[a("div",{staticClass:"flex-grow"},[a("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[e._v(" "+e._s(e.currentPage*e.paginationPageSize-(e.paginationPageSize-1))+" - "+e._s(e.itemsData.length-e.currentPage*e.paginationPageSize>0?e.currentPage*e.paginationPageSize:e.itemsData.length)+" From "+e._s(e.itemsData.length)+" ")]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(20)}}},[a("span",[e._v("20")])]),a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(30)}}},[a("span",[e._v("30")])]),a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(40)}}},[a("span",[e._v("40")])]),a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(50)}}},[a("span",[e._v("50")])])],1)],1)],1),a("vs-input",{staticClass:"sm:mr-4 mr-0 sm:w-auto w-full sm:order-normal order-3 sm:mt-0 mt-4",attrs:{placeholder:"Search..."},on:{input:e.updateSearchQuery},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),a("vs-button",{staticClass:"mb-4 md:mb-0",on:{click:function(t){return e.gridApi.exportDataAsCsv()}}},[e._v("Export CSV")])],1),a("ag-grid-vue",{ref:"agGridTable",staticClass:"ag-theme-material w-100 my-4 ag-grid-table",attrs:{components:e.components,gridOptions:e.gridOptions,columnDefs:e.columnDefs,defaultColDef:e.defaultColDef,rowData:e.itemsData,rowSelection:"multiple",animateRows:!0,floatingFilter:!1,pagination:!0,paginationPageSize:e.paginationPageSize,suppressPaginationPanel:!0,enableRtl:e.$vs.rtl}}),a("vs-pagination",{attrs:{total:e.totalPages,max:7},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)},n=[],s=(a("c5f6"),a("7f7f"),a("401b")),o=(a("4e06"),a("4a7a")),r=a.n(o),l=a("c38f"),c=a.n(l),m=(a("0952"),a("bb36")),d=a("165e"),u=a("b96c"),p=a("d20a"),_={components:{AgGridVue:s["AgGridVue"],vSelect:r.a,flatPickr:c.a,CellRendererLink:u["a"],CellRendererStatus:p["a"]},data:function(){return{show:!1,categorys:[{name:"Operation"},{name:"Staff"}],companies:[{name:"Aman"},{name:"Cashless"},{name:"Go Plus"},{name:"WeFlyPlus"}],absenteeismDays:[{name:0},{name:1},{name:"All"}],cities:[],areas:[],area_names:[],job_titles:[],allDepartments:[],city:null,company:null,category:null,department:null,items:{start_date:null,end_date:null,category:null,company:null,department:null,job_title:null,employee_name:null,employee_code:null,reporting_to:null,city:null,area:null,area_name:null,Absenteeism_Days:null},configFromdateTimePicker:{allowInput:!0,minDate:null,maxDate:new Date},configTodateTimePicker:{minDate:null,maxDate:new Date},searchQuery:"",gridApi:null,gridOptions:{},defaultColDef:{resizable:!0},columnDefs:[{headerName:"Record Date",field:"Record_Date",width:250},{headerName:"Employee Name",field:"Employee_Name",width:250},{headerName:"Code",field:"Code",width:150},{headerName:"job title",field:"job_title",width:175},{headerName:"Category",field:"Category",width:150},{headerName:"Company",field:"Company",width:150},{headerName:"Start Date",field:"Start_date",width:150},{headerName:"End Date",field:"End_date",width:150},{headerName:"Reporting To Level 1",field:"Reporting_To_Level_1",width:225},{headerName:"Reporting To Level 2",field:"Reporting_To_Level_2",width:225},{headerName:"Reporting To Level 3",field:"Reporting_To_Level_3",width:225},{headerName:"Reporting To Level 4",field:"Reporting_To_Level_4",width:225},{headerName:"Reporting To Level 5",field:"Reporting_To_Level_5",width:225},{headerName:"City",field:"city",width:200},{headerName:"Area",field:"area",width:200},{headerName:"Department",field:"Department",width:200},{headerName:"Authorization Area Name",field:"area_name",width:225},{headerName:"check_in_date_time",field:"check_in_date_time",width:175},{headerName:"check_out_date_time",field:"check_out_date_time",width:200},{headerName:"total_working_time",field:"total_working_time",width:200},{headerName:"total_latency_in_hours",field:"total_latency_in_hours",width:200},{headerName:"total_latency_in_minutes",field:"total_latency_in_minutes",width:225},{headerName:"total_over_time_in_hours",field:"total_over_time_in_hours",width:225},{headerName:"total_over_time_in_minutes",field:"total_over_time_in_minutes",width:225},{headerName:"Absenteeism Days",field:"Absenteeism_Days",width:175}],components:{CellRendererLink:u["a"],CellRendererStatus:p["a"]}}},watch:{city:function(e){var t=this;this.items.area=this.items.area_name=null,m["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/main_report/city/areas?city=").concat(e)).then((function(e){t.areas=t.area_names=e.data.data}))},category:function(e){var t=this;this.department=null,this.items.job_title=null,null!==this.company&&m["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/main_report/departments/?company=").concat(this.company.name,"&category=").concat(e.name)).then((function(e){t.allDepartments=e.data.data}))},company:function(e){var t=this;this.department=null,this.items.job_title=null,null!==this.category&&m["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/main_report/departments/?category=").concat(this.category.name,"&company=").concat(e.name)).then((function(e){t.allDepartments=e.data.data}))},department:function(e){var t=this;this.items.job_title=null,null!==this.company&&null!==this.items.category&&m["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/main_report/department/jobs?category=").concat(this.category.name,"&company=").concat(this.company.name,"&department=").concat(e)).then((function(e){t.job_titles=e.data.data}))}},computed:{itemsData:function(){return this.$store.state.hrReportManagement.items},paginationPageSize:function(){return this.gridApi?this.gridApi.paginationGetPageSize():10},totalPages:function(){return this.gridApi?this.gridApi.paginationGetTotalPages():0},currentPage:{get:function(){return this.gridApi?this.gridApi.paginationGetCurrentPage()+1:1},set:function(e){this.gridApi.paginationGoToPage(e-1)}}},methods:{addNewFilter:function(){var e=this;this.$validator.validateAll().then((function(t){t&&(e.$vs.loading({container:"#div-with-loading",scale:.6}),e.items.company=e.company,e.items.category=e.category,e.items.department=e.department,e.items.city=e.city,null!==e.items.Absenteeism_Days&&(e.items.Absenteeism_Days=e.items.Absenteeism_Days.name),e.$store.dispatch("hrReportManagement/fetchItemsMainReport",Object.assign({},e.items)).then((function(t){e.$vs.loading.close("#div-with-loading > .con-vs-loading"),0===t.data.data.length?e.$vs.notify({title:"Information",text:"No data available",iconPack:"feather",icon:"icon-alert-circle",color:"success"}):404===t.data.status&&e.$vs.notify({title:"Error",text:"Make sure select the main filters ",iconPack:"feather",icon:"icon-alert-circle",color:"danger"})})).catch((function(){e.$vs.loading.close("#div-with-loading > .con-vs-loading"),e.$vs.notify({title:"Error",text:"Make sure select the main filters ",iconPack:"feather",icon:"icon-alert-circle",color:"danger"})})))}))},onFromChange:function(e,t){this.$set(this.configTodateTimePicker,"minDate",t)},onToChange:function(e,t){this.$set(this.configFromdateTimePicker,"maxDate",t)},resetColFilters:function(e){e.removeRefreshAnimation(500),this.items.start_date=this.items.end_date=this.category=this.company=this.items.job_title=this.items.employee_name=this.items.employee_code=this.items.reporting_to=this.items.city=this.city=this.items.area=this.items.area_name=this.items.Absenteeism_Days=null},updateSearchQuery:function(e){this.gridApi.setQuickFilter(e)},convertBool:function(e){return!0===e?"1":"all"}},mounted:function(){var e=this;if(this.gridApi=this.gridOptions.api,this.$vs.rtl){var t=this.$refs.agGridTable.$el.querySelector(".ag-header-container");t.style.left="-"+String(Number(t.style.transform.slice(11,-3))+9)+"px"}m["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/main_report/cities")).then((function(t){e.cities=t.data.data}))},created:function(){d["a"].isRegistered||(this.$store.registerModule("hrReportManagement",d["a"]),d["a"].isRegistered=!0)}},h=_,f=(a("c692"),a("2877")),g=Object(f["a"])(h,i,n,!1,null,null,null);t["default"]=g.exports},b96c:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex items-center"},[a("vs-avatar",{staticClass:"flex-shrink-0 mr-2",attrs:{"icon-pack":"feather",icon:"icon-info",color:"success"},on:{click:function(t){return e.$router.push(e.url)}}}),a("router-link",{staticClass:"text-inherit hover:text-primary",attrs:{to:e.url},on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[e._v(e._s(e.params.value))])],1)},n=[],s={name:"CellRendererLink",computed:{url:function(){return"/ticket-settled/ticket-view/"+this.params.data.id}}},o=s,r=a("2877"),l=Object(r["a"])(o,i,n,!1,null,null,null);t["a"]=l.exports},c692:function(e,t,a){"use strict";var i=a("2ae3"),n=a.n(i);n.a},d20a:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vs-chip",{staticClass:"ag-grid-cell-chip",attrs:{color:e.chipColor(e.params.value)}},[a("span",[e._v(e._s(e.textStatus(e.params.value)))])])},n=[],s={name:"CellRendererStatus",computed:{chipColor:function(){return function(e){return 1===e?"success":0===e?"danger":"warring"}},textStatus:function(){return function(e){return 1===e?"نعم":0===e?"لا":"warring"}}}},o=s,r=(a("20cf"),a("2877")),l=Object(r["a"])(o,i,n,!1,null,null,null);t["a"]=l.exports}}]);
//# sourceMappingURL=chunk-298e5748.cfa17314.js.map