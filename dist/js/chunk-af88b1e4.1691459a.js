(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af88b1e4"],{"0ac6":function(t,e,a){"use strict";var i={items:[]},n={SET_ITEMS:function(t,e){t.items=e}},s=a("bb36"),r={fetchItemsMainReport:function(t){var e=t.commit;return new Promise((function(t,a){s["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/city/")).then((function(a){e("SET_ITEMS",a.data.data),t(a)})).catch((function(t){a(t)}))}))},fetchItemsAttendance:function(t,e){var a=t.commit;return e.start_date_ms=new Date(e.start_date_ms).getTime(),e.end_date_ms=new Date(e.end_date_ms).getTime(),new Promise((function(t,i){s["a"].get("".concat("https://hrattendence.gs-group.nl","/users/generate_hr_time_attendance"),{params:{start_date_ms:e.start_date_ms,end_date_ms:e.end_date_ms}}).then((function(e){a("SET_ITEMS",e.data.data),t(e)})).catch((function(t){i(t)}))}))},fetchItemsTimeAttendance:function(t,e){var a=t.commit;return e.start_date_ms=new Date(e.start_date_ms).getTime(),e.end_date_ms=new Date(e.end_date_ms).getTime(),new Promise((function(t,i){s["a"].get("".concat("https://hrattendence.gs-group.nl","/users/generate_erp_hr_time_attendance"),{params:{start_date_ms:e.start_date_ms,end_date_ms:e.end_date_ms}}).then((function(e){a("SET_ITEMS",e.data.data),t(e)})).catch((function(t){i(t)}))}))}},c={};e["a"]={isRegistered:!1,namespaced:!0,state:i,mutations:n,actions:r,getters:c}},"946a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"data-list"}},[a("vx-card",{ref:"filterCard",staticClass:"user-list-filters mb-8",attrs:{title:"Adding new area","collapse-action":"","refresh-content-action":""},on:{refresh:t.resetColFilters}},[a("form",[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[a("span",{staticClass:"text-primary"},[t._v("*")]),t._v("Area NAME")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-terminal","icon-no-border":""},model:{value:t.area_name,callback:function(e){t.area_name=e},expression:"area_name"}})],1),a("div",{staticClass:"vx-col md:w-1/2 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[a("span",{staticClass:"text-primary"},[t._v("*")]),t._v("CITY ")]),a("v-select",{staticClass:"mb-4",attrs:{label:"name",reduce:function(t){return t},options:t.cities,clearable:!1,dir:t.$vs.rtl?"rtl":"ltr",placeholder:"City"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1)]),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[a("span",{staticClass:"text-primary"},[t._v("*")]),t._v("LATITUDE")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-terminal","icon-no-border":""},model:{value:t.lat,callback:function(e){t.lat=e},expression:"lat"}})],1),a("div",{staticClass:"vx-col md:w-1/2 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[a("span",{staticClass:"text-primary"},[t._v("*")]),t._v("LONGITUDE")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-hash","icon-no-border":""},model:{value:t.lng,callback:function(e){t.lng=e},expression:"lng"}})],1)]),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 sm:w-1/2 w-full mb-2"},[a("label",{staticClass:"text-sm opacity-75"},[a("span",{staticClass:"text-primary"},[t._v("*")]),t._v("RADIUS")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-terminal","icon-no-border":""},model:{value:t.radius,callback:function(e){t.radius=e},expression:"radius"}})],1)]),a("vs-button",{staticClass:"mb-2",attrs:{disabled:null==t.area_name||null==t.city||null==t.radius||t.radius<0||null==t.lng||null==t.lat,type:"filled"},on:{click:function(e){return t.addArea()}}},[t._v("SUBMIT")])],1)])],1)},n=[],s=(a("c5f6"),a("7f7f"),a("401b")),r=(a("4e06"),a("4a7a")),c=a.n(r),l=a("c38f"),o=a.n(l),d=(a("0952"),a("bb36")),m=a("0ac6"),u={components:{AgGridVue:s["AgGridVue"],vSelect:c.a,flatPickr:o.a},data:function(){return{city_name:null,company_code:null,employee:{company:null,job_title:null},show:!1,categorys:[{name:"Operation"},{name:"Staff"}],companies:[{name:"Aman"},{name:"Cashless"},{name:"Go Plus"},{name:"WeFlyPlus"}],absenteeismDays:[{name:0},{name:1},{name:"All"}],lat:null,lng:null,radius:null,cities:[],areas:[],area_name:null,job_titles:[],city:null,category:null,items:{start_date:null,end_date:null,category:null,company:null,job_title:null,employee_name:null,employee_code:null,reporting_to:null,city:null,area:null,area_name:null,Absenteeism_Days:null},configFromdateTimePicker:{allowInput:!0,minDate:null,maxDate:new Date},configTodateTimePicker:{minDate:null,maxDate:new Date},searchQuery:"",gridApi:null,gridOptions:{},defaultColDef:{resizable:!0}}},watch:{city:function(t){var e=this;this.items.area=this.items.area_name=null,d["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/main_report/city/areas?city=").concat(t)).then((function(t){e.areas=e.area_names=t.data.data}))},category:function(t){var e=this;d["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/main_report/category/jobs/?category=").concat(t.name)).then((function(t){e.job_titles=t.data.data}))}},computed:{itemsData:function(){return this.$store.state.city.items},paginationPageSize:function(){return this.gridApi?this.gridApi.paginationGetPageSize():10},totalPages:function(){return this.gridApi?this.gridApi.paginationGetTotalPages():0},currentPage:{get:function(){return this.gridApi?this.gridApi.paginationGetCurrentPage()+1:1},set:function(t){this.gridApi.paginationGoToPage(t-1)}}},methods:{addArea:function(){var t=this;this.$vs.loading();var e=new FormData;e.append("name",this.area_name),e.append("city",this.city.id),e.append("lat",this.lat),e.append("lng",this.lng),e.append("radius",this.radius),d["a"].post("".concat("https://hrattendence.gs-group.nl","/dashboard/area/"),e).then((function(e){t.$vs.loading.close(),200!==e.status?t.$vs.notify({title:"Error",text:"Area is not added",iconPack:"feather",icon:"icon-alert-circle",color:"danger"}):t.$vs.notify({title:"Success",text:"Area is added",iconPack:"feather",icon:"icon-alert-circle",color:"success"})})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Error",text:e.message,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))},addNewFilter:function(){var t=this;this.$validator.validateAll().then((function(e){e&&(t.$vs.loading(),t.items.category=t.category,t.items.city=t.city,null!==t.items.Absenteeism_Days&&(t.items.Absenteeism_Days=t.items.Absenteeism_Days.name),t.$store.dispatch("hrReportManagement/fetchItemsMainReport",Object.assign({},t.items)).then((function(e){t.$vs.loading.close(),404===e.data.status&&t.$vs.notify({title:"Error",text:"Make sure select the main filters ",iconPack:"feather",icon:"icon-alert-circle",color:"danger"})})).catch((function(){t.$vs.loading.close(),t.$vs.notify({title:"Error",text:"Make sure select the main filters ",iconPack:"feather",icon:"icon-alert-circle",color:"danger"})})))}))},onFromChange:function(t,e){this.$set(this.configTodateTimePicker,"minDate",e)},onToChange:function(t,e){this.$set(this.configFromdateTimePicker,"maxDate",e)},setColumnFilter:function(t,e){var a=this.gridApi.getFilterInstance(t),i=null;"all"!==e&&(i={type:"equals",filter:e}),a.setModel(i),this.gridApi.onFilterChanged()},resetColFilters:function(t){t.removeRefreshAnimation(500),this.items.start_date=this.items.end_date=this.items.category=this.category=this.items.company=this.items.job_title=this.items.employee_name=this.items.employee_code=this.items.reporting_to=this.items.city=this.city=this.items.area=this.items.area_name=this.items.Absenteeism_Days=null},updateSearchQuery:function(t){this.gridApi.setQuickFilter(t)},convertBool:function(t){return!0===t?"1":"all"}},mounted:function(){var t=this;if(this.gridApi=this.gridOptions.api,this.$vs.rtl){var e=this.$refs.agGridTable.$el.querySelector(".ag-header-container");e.style.left="-"+String(Number(e.style.transform.slice(11,-3))+9)+"px"}d["a"].get("".concat("https://hrattendence.gs-group.nl","/dashboard/city/")).then((function(e){t.cities=e.data.data})).catch((function(e){t.$vs.notify({title:"Error",text:e,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))},created:function(){m["a"].isRegistered||(this.$store.registerModule("city",m["a"]),m["a"].isRegistered=!0)}},h=u,f=(a("956b"),a("2877")),p=Object(f["a"])(h,i,n,!1,null,null,null);e["default"]=p.exports},"956b":function(t,e,a){"use strict";var i=a("c0d5"),n=a.n(i);n.a},c0d5:function(t,e,a){}}]);
//# sourceMappingURL=chunk-af88b1e4.1691459a.js.map